---
sidebar_position: 3
---

# 服务和资源

## 查看服务和资源列表

服务和资源属于一个环境，您可以在环境视图中查看该环境下的服务和资源列表。

1. 点击左侧导航栏中的`应用管理`。
2. 通过顶级面包屑的下拉按钮选择一个项目。
3. 在项目视图的环境标签中，找到您需要操作的环境，点击环境名称进入环境视图。
4. 在`服务/资源`标签页中，您可以查看该环境下的服务和资源列表。您可以通过顶级面包屑切换查看不同项目或环境下的服务和资源。

![app-svc-list](/img/v0.4.0/application/service/app-svc-list.png)

## 查看服务或资源详情

1. 进入环境视图的`服务/资源`标签页。
2. 找到您需要查看的服务或资源，点击其名称进入详情页面。

## 创建服务或资源

1. 进入环境视图的`服务/资源`标签页。
2. 点击`新建`，选择`服务`或`资源`。
3. 对于服务创建，选择模板和版本。对于资源创建，选择资源类型。
4. 输入`名称`、`描述`和`标签`。名称在同一环境下应唯一。
5. 填写配置表单，配置项取决于您选择的模板或资源类型。
6. 点击`保存并部署`按钮。

![qs-create-svc2](/img/v0.4.0/application/service/app-svc-create.png)

## 创建服务或资源草稿

您可以创建服务或资源的草稿。

1. 进入环境视图的`服务/资源`标签页。
2. 点击`新建`，选择`服务`或`资源`。
3. 对于服务创建，选择模板和版本。对于资源创建，选择资源类型。
4. 输入`名称`、`描述`和`标签`。名称在同一环境下应唯一。
5. 填写配置表单，配置项取决于您选择的模板或资源类型。
6. 点击`保存并部署`按钮右侧的向下箭头。
7. 点击`保存草稿`。

![qs-create-svc2](/img/v0.4.0/application/service/app-svc-create-draft.png)

## 编辑服务或资源

1. 进入环境视图的`服务/资源`标签页。
2. 找到您需要编辑的服务或资源，点击`编辑`。
3. 根据需要修改配置，然后点击`保存并部署`按钮。编辑后服务或资源将进行一次部署。

## 服务和资源依赖性

服务和资源可以通过使用输出引用相互依赖。被引用的实体将在依赖实体之前部署并在之后删除。

例如，如果一个Web服务依赖于MySQL资源，该Web服务可以在其环境变量中引用MySQL端点，格式为`${resource.my-db-name.address}`。
输出引用的格式为：`${resource.<资源名称>.<资源输出名称>}` 和 `${service.<服务名称>.<服务输出名称>}`。

![app-svc-ref](/img/v0.4.0/application/service/app-svc-ref.png)

## 回滚服务或资源

1. 进入环境视图的`服务/资源`标签页。
2. 找到您需要回滚的服务或资源。
3. 点击操作下拉按钮，选择`回滚`。

![app-svc-rollback](/img/v0.4.0/application/service/app-svc-rollback.png)

4. 选择您需要回滚到的历史版本。
5. 确认回滚操作的配置更改，点击`回滚`按钮完成回滚操作。

![app-svc-rollback2](/img/v0.4.0/application/service/app-svc-rollback2.png)

## 克隆服务和资源

1. 进入环境视图的`服务/资源`标签页。
2. 选择您需要克隆的服务和资源，点击`克隆`按钮。

![app-svc-clone](/img/v0.4.0/application/service/app-svc-clone.png)

3. 选择克隆的目标环境。
4. 如果需要调整克隆服务和资源的配置，点击您想要修改的区块，在弹出窗口中修改配置，然后点击`确认`按钮。
5. 点击`保存并部署`按钮以完成克隆。

![app-svc-clone-edit](/img/v0.4.0/application/service/app-svc-clone-edit.png)

## 删除服务或资源

1. 进入环境视图的`服务/资源`标签页。
2. 找到您需要删除的服务或资源。
3. 确保没有其他服务和资源依赖于它。点击`删除`按钮。
4. 在弹出窗口中，您可以选择是否清理组件。如果您取消选择`清理所有组件`，服务或资源的组件将被保留，但将不再由Walrus管理。
5. 点击`确认`按钮以完成删除。

![app-svc-del](/img/v0.4.0/application/service/app-svc-del.png)

## 组件

组件是服务或资源部署生成的实体。在服务或资源的详情页面，您可以查看其组件，包括组件名称、类型、状态、创建时间等。您可以根据需要操作组件，如查看日志、连接到终端等。

### 查看组件日志

> 注意：查看日志操作仅适用于特定类型的组件。

1. 进入服务或资源详情页面查看组件列表。
2. 找到您需要查看日志的组件，点击`查看日志`操作。

![qs-res-logs](/img/v0.4.0/application/service/app-svc-component-logs.png)

### 通过终端连接到组件

> 注意：终端操作仅适用于特定类型的组件。

1. 进入服务或资源详情页面查看组件列表。
2. 找到您需要连接到终端的组件，点击`终端`操作。

![qs-res-exec](/img/v0.4.0/application/service/app-svc-component-terminal.png)

### 查看组件的依赖图

进入服务/资源详情页面，选择切换到图形视图，以查看当前服务/资源下的依赖图。

有关依赖图的更多详细信息，请参阅[依赖图](/application/graph)。

![app-svc-res-graph-view](/img/v0.4.0/application/service/app-svc-res-graph-view.png)

![app-svc-res-graph](/img/v0.4.0/application/service/app-svc-res-graph.png)